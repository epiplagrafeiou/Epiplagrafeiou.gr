
{
  "entities": {
    "Supplier": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Supplier",
      "type": "object",
      "description": "Represents a supplier of products.",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the supplier."
        },
        "url": {
          "type": "string",
          "description": "URL of the supplier's XML feed.",
          "format": "uri"
        },
        "markupRules": {
          "type": "array",
          "description": "Rules for applying markup based on price ranges.",
          "items": {
            "type": "object",
            "properties": {
              "from": { "type": "number" },
              "to": { "type": "number" },
              "markup": { "type": "number" }
            },
            "required": ["from", "to", "markup"]
          }
        },
        "conversionRate": {
            "type": "number"
        },
        "profitability": {
            "type": "number"
        }
      },
      "required": [
        "name",
        "url",
        "markupRules"
      ]
    },
    "Product": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Product",
      "type": "object",
      "description": "Represents a product in the eShop.",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the product."
        },
        "slug": {
          "type": "string",
          "description": "URL-friendly slug for the product."
        },
        "description": {
          "type": "string",
          "description": "A description of the product."
        },
        "price": {
          "type": "number",
          "description": "The price of the product."
        },
        "originalPrice": {
          "type": "number"
        },
        "category": {
          "type": "string",
          "description": "The product's raw category from the supplier (e.g., Tables)."
        },
        "imageId": {
            "type": "string",
            "description": "ID of the primary placeholder image."
        },
        "images": {
            "type": "array",
            "description": "Array of image URLs for the product gallery.",
            "items": {
                "type": "string",
                "format": "uri"
            }
        },
        "stock": {
            "type": "number",
            "description": "Available stock quantity."
        },
        "supplierId": {
          "type": "string",
          "description": "Reference to the supplier for this product."
        }
      },
      "required": [
        "name",
        "slug",
        "description",
        "price",
        "category",
        "imageId",
        "images",
        "stock",
        "supplierId"
      ]
    },
     "Category": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Category",
      "type": "object",
      "description": "Represents a curated store category.",
      "properties": {
        "name": {
          "type": "string",
          "description": "The display name of the category."
        },
        "slug": {
          "type": "string",
          "description": "URL-friendly slug for the category."
        },
        "parentId": {
          "type": ["string", "null"],
          "description": "The ID of the parent category, or null for a top-level category."
        },
        "path": {
          "type": "string",
          "description": "The full slug path of the category (e.g., 'furniture/desks')."
        },
        "rawCategories": {
          "type": "array",
          "description": "A list of raw category strings from suppliers that are mapped to this curated category.",
          "items": {
            "type": "string"
          }
        },
        "order": {
          "type": "number",
          "description": "The display order of the category within its level."
        }
      },
      "required": ["name", "slug", "path", "rawCategories", "order"]
    },
    "UserProfile": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "User Profile",
        "description": "Represents a user's profile information.",
        "type": "object",
        "properties": {
            "id": {
                "type": "string",
                "description": "The unique identifier for the user, matching the auth UID."
            },
            "email": {
                "type": "string",
                "format": "email",
                "description": "The user's email address."
            },
            "name": {
                "type": "string",
                "description": "The user's display name."
            },
            "points": {
                "type": "number",
                "description": "The user's accumulated reward points."
            }
        },
        "required": ["id", "email", "name", "points"]
    },
    "Order": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Order",
      "description": "Represents a customer order.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "customerDetails": {
          "type": "object",
          "properties": {
            "name": { "type": "string" },
            "email": { "type": "string" },
            "phone": { "type": "string" }
          }
        },
        "shippingAddress": {
          "type": "object",
          "properties": {
            "address": { "type": "string" },
            "city": { "type": "string" },
            "postalCode": { "type": "string" },
            "country": { "type": "string" }
          }
        },
        "items": {
          "type": "array",
          "items": { "$ref": "#/entities/Product" }
        },
        "total": { "type": "number" },
        "shippingCost": { "type": "number" },
        "status": { 
          "type": "string",
          "enum": ["Pending", "Shipped", "Delivered", "Cancelled"]
        },
        "createdAt": { 
          "type": "string",
          "format": "date-time"
        }
      },
      "required": ["userId", "customerDetails", "shippingAddress", "items", "total", "status", "createdAt"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/suppliers/{supplierId}",
        "definition": {
          "entityName": "Supplier",
          "schema": {
            "$ref": "#/entities/Supplier"
          },
          "description": "Stores supplier information."
        }
      },
      {
        "path": "/products/{productId}",
        "definition": {
          "entityName": "Product",
          "schema": {
            "$ref": "#/entities/Product"
          },
          "description": "Stores all product information.",
          "seed": [
            {
              "id": "manual-001",
              "name": "Σετ 5τμχ Ρόδες Για Καρέκλα Γραφείου",
              "slug": "set-5tmch-rodes-gia-karekla-grafeiou",
              "price": 12.99,
              "originalPrice": 13.99,
              "description": "Ρόδες σετ 5 τεμαχίων για καρέκλες γραφείου.",
              "imageId": "https://www.zougris.gr/content/images/thumbs/0008329.jpeg",
              "category": "Ανταλλακτικά Για Καρέκλες Γραφείου",
              "images": ["https://www.zougris.gr/content/images/thumbs/0008329.jpeg"],
              "stock": 177,
              "supplierId": "manual"
            },
            {
              "id": "11.2213",
              "name": "ΑΜΟΡΤΙΣΕΡ ΜΑΥΡΟ ΚΑΡ.ΓΡΑΦΕΙΟΥ 26/35εκ.",
              "slug": "amortiser-mayro-kargrafeiou-2635ek",
              "price": 18.99,
              "description": "Αμορτισέρ μαύρο για καρέκλες γραφείου 26/35εκ.",
              "imageId": "https://www.zougris.gr/content/images/thumbs/0004662.jpeg",
              "category": "Ανταλλακτικά Για Καρέκλες Γραφείου",
              "images": ["https://www.zougris.gr/content/images/thumbs/0004662.jpeg"],
              "stock": 350,
              "supplierId": "manual"
            },
            {
              "id": "01.0942",
              "name": "ΠΟΔΙ Φ62εκ. ΧΡΩΜΙΟΥ ΓΙΑ ΚΑΡΕΚΛΑ ΓΡΑΦΕΙΟΥ",
              "slug": "podi-f62ek-chromiou-gia-karekla-grafeiou",
              "price": 28.99,
              "description": "Πόδι χρωμίου Φ62εκ. για απόλυτη ανθεκτικότητα στο βάρος.",
              "imageId": "https://www.zougris.gr/content/images/thumbs/0010615.jpeg",
              "category": "Ανταλλακτικά Για Καρέκλες Γραφείου",
              "images": ["https://www.zougris.gr/content/images/thumbs/0010615.jpeg", "https://www.zougris.gr/content/images/thumbs/0010616.jpeg"],
              "stock": 98,
              "supplierId": "manual"
            },
            {
              "id": "manual-pelmata",
              "name": "Σέτ 5τμχ Πέλματα Για Καρέκλα Γραφείου",
              "slug": "set-5tmch-pelmata-gia-karekla-grafeiou",
              "price": 12.99,
              "description": "Πέλματα, κάντε τις καρέκλες σας σταθερές αντικαθιστώντας εύκολα τις ρόδες με τα πέλματα.",
              "imageId": "https://www.zougris.gr/content/images/thumbs/0008499.jpeg",
              "category": "Ανταλλακτικά Για Καρέκλες Γραφείου",
              "images": ["https://www.zougris.gr/content/images/thumbs/0008499.jpeg"],
              "stock": 61,
              "supplierId": "manual"
            },
            {
              "id": "manual-pro-wheels",
              "name": "Σετ 5τμχ Ρόδες Pro 63χιλ. Ελαστικής Πολυουρεθάνης Για Καρέκλα Γραφείου",
              "slug": "set-5tmch-rodes-pro-63chil-elastikis-polyourethanis-gia-karekla-grafeiou",
              "price": 28.99,
              "description": "Ρόδες Pro σετ 5 τεμαχίων για καρέκλες γραφείου.Από ελαστική πολυουρεθάνη για ομαλότερη κύλιση χωρίς να αφήνει σημάδια στο δάπεδο.Κατάλληλες για καρέκλες με πείρο 11 χιλιοστών.",
              "imageId": "https://www.zougris.gr/content/images/thumbs/0010300.jpeg",
              "category": "Ανταλλακτικά Για Καρέκλες Γραφείου",
              "images": ["https://www.zougris.gr/content/images/thumbs/0010300.jpeg"],
              "stock": 214,
              "supplierId": "manual"
            }
          ]
        }
      },
      {
        "path": "/categories/{categoryId}",
        "definition": {
          "entityName": "Category",
          "schema": {
            "$ref": "#/entities/Category"
          },
          "description": "Stores the curated category structure for the eShop."
        }
      },
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "UserProfile",
          "schema": {
            "$ref": "#/entities/UserProfile"
          },
          "description": "Stores user profile information, including reward points."
        }
      },
      {
        "path": "/orders/{orderId}",
        "definition": {
          "entityName": "Order",
          "schema": {
            "$ref": "#/entities/Order"
          },
          "description": "Stores customer orders."
        }
      }
    ]
  }
}

    